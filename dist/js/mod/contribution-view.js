define(["lib/knockout"],function(e){var t=function(t){var n=this;this.donorList=t,this.donor=e.observable(t.length?t[0]:null),this.donorId=e.computed(function(){return this.donorList.length?this.donor().id:""},this),this.donorType=e.observable("existing"),this.isExisting=e.computed(function(){return this.donorType()==="existing"},this),this.donorFirst=e.observable(""),this.donorLast=e.observable(""),this.amount=e.observable(0),this.errors=e.observable(""),this.submit=function(){var e=n.donorFirst()+" "+n.donorLast(),t=parseFloat(n.amount()),r=[];!n.isExisting()&&(!n.donorFirst()||!n.donorLast())&&r.push("enter a complete name"),(isNaN(t)||t<=0)&&r.push("enter a valid amount"),r.length?n.errors("Required: "+r.join(", ")):(n.errors(""),document.getElementById("contribution").submit())}};return t})